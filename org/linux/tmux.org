#+TITLE: tmux使用
* tmux简介
原以为tmux就是一个简单的分屏工具,在第一次安装后发现这个玩意好丑,而且分屏也不好用,于是放弃了.后来找了一些文章,才发现,其主要作用原来是保持会话,当你在服务器上进行开发时候,会给你带来很大的便利性.如ssh到服务器上后,编译一个项目,之后关闭电脑回家,发现ssh断掉了,若编译未完成,则前功尽弃,需要重新登录机器,重新编译.而tmux能保证,当你关掉电脑后,你的会话仍然有效.
即tmux一般用于服务器,用来保存会话的内容
* 参考
- Linux 从业利器: http://cenalulu.github.io/linux/tmux/
- Tmux美化: https://github.com/gpakosz/.tmux , 其中的powerline的箭头需要到~/.tmux.conf.local中修改,修改完毕后中,在tmux中使用 =C-b := 命令,并键入 =source-file ~/.tmux.conf= 来更新
* 命令
- =tmux= 运行,若发现乱码,可使用 =tmux -u= 来运行,即用utf-8
- =tmux ls= 显示所有会话,或者在tmux中,使用 =C-b s=
- =tmux new= 新建会话,不指定名字,不推荐 =tmux new -s session-name= 新建会话,指定名字,推荐
- =tmux a= 接入(attach)第一个可用的会话, =tmux a -t session-name= 接入指定会话
- =tmux detach= 从会话中断开,或 =C-b d=
- =tmux kill-session -t session-name= 关闭会话,shutdown, =tmux killall= 关闭所有
* 快捷键
prefix为 =C-a= 或 =C-s=,每个快捷键都需要前缀,后边省略
=prefix ?= 可以显示当前的快捷键绑定
** 会话篇
| name | des            |
|------+----------------|
| s    | 列出所有会话   |
| $    | 重命名当前会话 |
| d    | 断开当前会话   |
** 窗口
| name | des              |
|------+------------------|
| c    | 创建一个新窗口   |
| ,    | 重命名当前窗口   |
| w    | 列出所有窗口     |
| %    | 水平分割窗口     |
| "    | 竖直分割窗口     |
| n    | 选择下一个窗口   |
| p    | 选择上一个窗口   |
| 0~9  | 选择数字对应窗口 |
| &    | 关闭当前窗口     |
** 窗格
注意区分窗格和窗口的区别,窗口是一个占满郑屏的窗格,窗格即panel
| name | des                     |
|------+-------------------------|
| %    | 创建一个水平窗格        |
| "    | 竖直创建一个窗格        |
| hjkl | 窗格移动                |
| q    | 显示窗格编号            |
| o    | 在窗格之间切换          |
| {}   | 与上/下一个窗格交换位置 |
| !    | 在新窗口显示当前窗格    |
| x    | 关闭当前窗格            |
| t    | 在当前窗格显示时间      |
** 其他
- 翻页: 如果使用了tmux, 没有开启鼠标滚轮,那么鼠标滚轮将不会有滚屏的效果,如果需要滚屏效果,需要使用命令 =set -g mnouse on=, 但是使用这个效果的缺点是,复制将不可用.但是可以使用一种更优雅的方式翻页,命令 =prefix [= 开启一个vi-mode,此时可以像操作vim一样来操作屏幕内容,翻页使用 =C-d= 即可,这样方便许多
- <C-a>: shell 命令 <C-a>是将光标移动到行首,使用tmux的美化库(上边的链接)则使用<C-a><C-a>进行移动
