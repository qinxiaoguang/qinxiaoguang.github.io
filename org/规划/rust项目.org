#+TITLE: rust项目

* 背景
依稀记得自己的当初的梦想，可是现在与自己的梦想越来越远，越来越像一个为老板跑断腿的狗腿子，越来越没有自己想活成的样子。自己的梦想是当一名软件开发人员。目前的自己却是一个杂活清理人员。不妥不妥。
为了让自己活成软件开发人员的样子，需要有自己比较优秀的开源作品，这个开源作品应该长成什么样呢？
* 作品要求
1. 个人网站(rust)。
2. 其中网站的内容之一是自己的博客内容，博客的内容是从github上拔拉下来的内容，可在网站上进行编写。
3. 该项目可以自动从github上进行git pull。支持接口进行通知pull.
4. 包含各种小工具，如base64的编解码，时间戳工具等。可通过webassmbly进行开发，也可通过自己的函数进行。或者产出两个版本。
   1. base64编解码
   2. unicode编解码
   3. urlencode/decode
   4. json格式化
   5. 时间戳工具
   6. waiting list
5. 支持搜索的爬取，支持本站搜索。
6. 记录个人的小需求，并进行实现。
7. 可进行评论
8. 可查看数据次数
9. 可进行订阅。
10. 可插入图片
11. 可有个人相册、视频、记录个人生活
12. 博客的内容可以不是github拔拉下来的，而会自动进行git push备份。
13. 考虑使用数据库，但是不能过于重
14. 有图片的时候展示图片，无图可考虑展示默认图片。
15. 每个页面都有一个主色调
16. 随机语句：随机毒鸡汤、随机优美语句、随机冷笑话等在某个页面展示
17. 在一个小地方设计一些彩蛋，如某个地方鼠标滑过可以展现一些内容，如炫酷的时间等。15. 每个页面都有一个主色调
18. 可以修改颜色主题
19. 右上角或者不显眼的地方放置一个播放器组件，点击后选择相关音乐，且可播放，播放的音乐是自己存储的音乐。一定要不显眼，自己听。
20. 手机网站共享内容(有那么一瞬间，手机上的内容想复制到电脑上，或者电脑上的内容想复制到手机上。)
21. 灵感接口。记录灵感
22. 彩虹屁语句收集。: https://chp.shadiao.app/?from_nmsl_hot
23. 数据存储到七牛云。

* 项目选型
1. 前后端分离
2. 前端使用vuejs及bootstrap
3. 后端: toml,rust,redis,mysql,actix-web

* 后端接口
1. 风格RESTful
2. 统一回复格式
#+BEGIN_SRC json
{
    "status":1,
    "msg":"",
    "data":{},
    "logid":""
}
#+END_SRC
3. 

** 接口功能
| 功能     | 接口名               | 相关指令   |
|----------+----------------------+------------|
| 优美句子 | /tools/sentence/rose | {add,num}  |
| 毒鸡汤   | /tools/sentence/shit | {add, num} |
| 访问次数 | /tools/visit/cnt     |            |
| 文章     | /article/blog/xx     |            |
| 相册     | /album/xx            |            |
* 文章方案
需要解决以下问题：
1. 文章怎么进行读写，采用什么方式
2. 文章怎么保存，如果项目崩了，如何保证网站还能阅读。
3. 文章怎么例行更新及保存。

目前考虑的方案是采用mongdb来保存文章，且定时扫描mongo,将数据同步到github中。同时，定时导出markdown格式的最新文章，将其保存到hexo中，定期生成对应文档，并发布到gitpage.
mongo的格式设计:
